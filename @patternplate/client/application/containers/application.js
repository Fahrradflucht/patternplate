'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _taggedTemplateLiteral2 = require('babel-runtime/helpers/taggedTemplateLiteral');

var _taggedTemplateLiteral3 = _interopRequireDefault(_taggedTemplateLiteral2);

var _templateObject = (0, _taggedTemplateLiteral3.default)(['\n\t\thtml,\n\t\tbody {\n\t\t\theight: 100%;\n\t\t\toverflow: hidden;\n\t\t}\n\t\tbody {\n\t\t\tmargin: 0;\n\t\t\theight: 100%;\n\t\t}\n\t\t[data-application] {\n\t\t\theight: 100%;\n\t\t}\n\t'], ['\n\t\thtml,\n\t\tbody {\n\t\t\theight: 100%;\n\t\t\toverflow: hidden;\n\t\t}\n\t\tbody {\n\t\t\tmargin: 0;\n\t\t\theight: 100%;\n\t\t}\n\t\t[data-application] {\n\t\t\theight: 100%;\n\t\t}\n\t']),
    _templateObject2 = (0, _taggedTemplateLiteral3.default)(['\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: ', ';\n'], ['\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: ', ';\n']),
    _templateObject3 = (0, _taggedTemplateLiteral3.default)(['\n\tposition: relative;\n\tz-index: 2;\n\theight: 100%;\n\twidth: ', 'px;\n\tflex: 0 0 ', 'px;\n'], ['\n\tposition: relative;\n\tz-index: 2;\n\theight: 100%;\n\twidth: ', 'px;\n\tflex: 0 0 ', 'px;\n']),
    _templateObject4 = (0, _taggedTemplateLiteral3.default)(['\n\tposition: absolute;\n\tbox-sizing: border-box;\n\tz-index: 2;\n\tpadding: 15px;\n\twidth: 100%;\n'], ['\n\tposition: absolute;\n\tbox-sizing: border-box;\n\tz-index: 2;\n\tpadding: 15px;\n\twidth: 100%;\n']),
    _templateObject5 = (0, _taggedTemplateLiteral3.default)(['\n\tdisplay: flex;\n\t', ';\n'], ['\n\tdisplay: flex;\n\t', ';\n']),
    _templateObject6 = (0, _taggedTemplateLiteral3.default)(['\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 0 0 ', 'px;\n\tposition: relative;\n\tz-index: 2;\n\tbox-sizing: border-box;\n\theight: ', 'px;\n\tpadding: 0 15px;\n'], ['\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 0 0 ', 'px;\n\tposition: relative;\n\tz-index: 2;\n\tbox-sizing: border-box;\n\theight: ', 'px;\n\tpadding: 0 15px;\n']),
    _templateObject7 = (0, _taggedTemplateLiteral3.default)(['\n\t& + & {\n\t\tpadding-left: 10px;\n\t}\n'], ['\n\t& + & {\n\t\tpadding-left: 10px;\n\t}\n']),
    _templateObject8 = (0, _taggedTemplateLiteral3.default)(['\n\tflex: 1 1 100%;\n\twidth: 100%;\n\theight: calc(100% - 60px);\n\tposition: relative;\n'], ['\n\tflex: 1 1 100%;\n\twidth: 100%;\n\theight: calc(100% - 60px);\n\tposition: relative;\n']),
    _templateObject9 = (0, _taggedTemplateLiteral3.default)(['\n\tdisplay: flex;\n\tflex: 1 1 calc(100% - ', 'px);\n\twidth: calc(100% - ', 'px);\n\theight: 100%;\n\tflex-direction: column;\n\toverflow: hidden;\n'], ['\n\tdisplay: flex;\n\tflex: 1 1 calc(100% - ', 'px);\n\twidth: calc(100% - ', 'px);\n\theight: 100%;\n\tflex-direction: column;\n\toverflow: hidden;\n']),
    _templateObject10 = (0, _taggedTemplateLiteral3.default)(['\n\tposition: absolute;\n\ttop: 12.5vh;\n\tbottom: 10vh;\n\tright: 0;\n\tleft: 0;\n\twidth: 100%;\n\tpointer-events: none;\n'], ['\n\tposition: absolute;\n\ttop: 12.5vh;\n\tbottom: 10vh;\n\tright: 0;\n\tleft: 0;\n\twidth: 100%;\n\tpointer-events: none;\n']),
    _templateObject11 = (0, _taggedTemplateLiteral3.default)(['\n\twidth: 90%;\n\tmin-width: 320px;\n\tmax-width: 750px;\n\tmax-height: 100%;\n\tmargin: 0 auto;\n\toverflow: hidden;\n'], ['\n\twidth: 90%;\n\tmin-width: 320px;\n\tmax-width: 750px;\n\tmax-height: 100%;\n\tmargin: 0 auto;\n\toverflow: hidden;\n']),
    _templateObject12 = (0, _taggedTemplateLiteral3.default)(['\n\tposition: absolute;\n\tpointer-events: none;\n\tz-index: 2;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n\tpadding: 10px 15px;\n\theight: 300px;\n\tdisplay: flex;\n'], ['\n\tposition: absolute;\n\tpointer-events: none;\n\tz-index: 2;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n\tpadding: 10px 15px;\n\theight: 300px;\n\tdisplay: flex;\n']),
    _templateObject13 = (0, _taggedTemplateLiteral3.default)(['\n\tflex: 0 0 auto;\n\tbox-sizing: border-box;\n\tpointer-events: all;\n'], ['\n\tflex: 0 0 auto;\n\tbox-sizing: border-box;\n\tpointer-events: all;\n']),
    _templateObject14 = (0, _taggedTemplateLiteral3.default)(['\n\tflex: 1 1 auto;\n\tbox-sizing: border-box;\n\theight: 100%;\n\twidth: 100%;\n\toverflow: hidden;\n\tpointer-events: all;\n'], ['\n\tflex: 1 1 auto;\n\tbox-sizing: border-box;\n\theight: 100%;\n\twidth: 100%;\n\toverflow: hidden;\n\tpointer-events: all;\n']);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactHelmet = require('react-helmet');

var _reactHelmet2 = _interopRequireDefault(_reactHelmet);

var _styledComponents = require('styled-components');

var _styledComponents2 = _interopRequireDefault(_styledComponents);

var _tagHoc = require('tag-hoc');

var _tagHoc2 = _interopRequireDefault(_tagHoc);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _reselect = require('reselect');

var _actions = require('../actions');

var actions = _interopRequireWildcard(_actions);

var _item = require('../selectors/item');

var item = _interopRequireWildcard(_item);

var _themes = require('../themes');

var _themes2 = _interopRequireDefault(_themes);

var _codePane = require('./code-pane');

var _codePane2 = _interopRequireDefault(_codePane);

var _docPane = require('./doc-pane');

var _docPane2 = _interopRequireDefault(_docPane);

var _favicon = require('./favicon');

var _favicon2 = _interopRequireDefault(_favicon);

var _triggerFullscreen = require('./trigger-fullscreen');

var _triggerFullscreen2 = _interopRequireDefault(_triggerFullscreen);

var _infoPane = require('./info-pane');

var _infoPane2 = _interopRequireDefault(_infoPane);

var _message = require('./message');

var _message2 = _interopRequireDefault(_message);

var _navigation = require('./navigation');

var _navigation2 = _interopRequireDefault(_navigation);

var _toggleDoc = require('./toggle-doc');

var _toggleDoc2 = _interopRequireDefault(_toggleDoc);

var _toggleInfoPane = require('./toggle-info-pane');

var _toggleInfoPane2 = _interopRequireDefault(_toggleInfoPane);

var _toggleNavigation = require('./toggle-navigation');

var _toggleNavigation2 = _interopRequireDefault(_toggleNavigation);

var _toggleOpacity = require('./toggle-opacity');

var _toggleOpacity2 = _interopRequireDefault(_toggleOpacity);

var _toggleCode = require('./toggle-code');

var _toggleCode2 = _interopRequireDefault(_toggleCode);

var _search = require('./search');

var _search2 = _interopRequireDefault(_search);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = (0, _reactRedux.connect)(mapProps, mapDispatch)(Application);


var selectThemes = (0, _reselect.createSelector)(function (state) {
	return state.config.color;
}, function (color) {
	return (0, _themes2.default)(color);
});

var selectIsPattern = (0, _reselect.createSelector)(item.selectType, function (type) {
	return type === 'pattern';
});

var selectCodeEnabled = (0, _reselect.createSelector)(selectIsPattern, function (state) {
	return state.codeEnabled;
}, function (isPattern, enabled) {
	return isPattern && enabled;
});

var selectDocEnabled = (0, _reselect.createSelector)(selectIsPattern, item.selectContents, function (state) {
	return state.docEnabled;
}, function (isPattern, contents, docEnabled) {
	return isPattern && Boolean(contents) && docEnabled;
});

var selectInfoEnabled = (0, _reselect.createSelector)(selectIsPattern, function (state) {
	return state.infoEnabled;
}, function (isPattern, enabled) {
	return isPattern && enabled;
});

function mapProps(state) {
	return {
		codeEnabled: selectCodeEnabled(state),
		docEnabled: selectDocEnabled(state),
		description: state.schema.description,
		infoEnabled: selectInfoEnabled(state),
		lightbox: state.lightbox,
		navigationEnabled: state.navigationEnabled,
		searchEnabled: state.searchEnabled,
		theme: state.theme,
		themes: selectThemes(state),
		title: state.config.title || state.schema.name
	};
}

function mapDispatch(dispatch) {
	return (0, _redux.bindActionCreators)({
		onLoad: function onLoad() {
			return actions.listen({ url: 'api' });
		},
		onResize: actions.windowResize
	}, dispatch);
}

function Application(props) {
	/* eslint-disable no-unused-expressions */
	(0, _styledComponents.injectGlobal)(_templateObject);
	/* eslint-enable */

	return _react2.default.createElement(
		_styledComponents.ThemeProvider,
		{ theme: props.themes[props.theme] },
		_react2.default.createElement(
			StyledApplication,
			null,
			_react2.default.createElement(_reactHelmet2.default, { meta: meta(props), title: props.title }),
			_react2.default.createElement(_favicon2.default, null),
			_react2.default.createElement(
				_styledComponents.ThemeProvider,
				{ theme: props.themes.dark },
				_react2.default.createElement(
					StyledNavigationBox,
					{ enabled: props.navigationEnabled },
					props.navigationEnabled && _react2.default.createElement(_navigation2.default, null)
				)
			),
			_react2.default.createElement(
				StyledContentContainer,
				null,
				_react2.default.createElement(
					StyledContent,
					{ navigationEnabled: props.navigationEnabled },
					_react2.default.createElement(
						StyledMessageBox,
						null,
						_react2.default.createElement(_message2.default, null)
					),
					props.children,
					props.searchEnabled && _react2.default.createElement(
						_styledComponents.ThemeProvider,
						{ theme: props.themes.dark },
						_react2.default.createElement(
							StyledSearchBox,
							null,
							_react2.default.createElement(
								StyledSearchFrame,
								null,
								_react2.default.createElement(_search2.default, null)
							)
						)
					),
					_react2.default.createElement(
						_styledComponents.ThemeProvider,
						{ theme: props.themes.dark },
						_react2.default.createElement(
							StyledFloatingBox,
							null,
							props.infoEnabled && _react2.default.createElement(
								StyledInfoPane,
								null,
								_react2.default.createElement(
									_infoPane2.default,
									{ hermit: !(props.codeEnabled || props.docEnabled) },
									_react2.default.createElement(_toggleCode2.default, null),
									_react2.default.createElement(_toggleDoc2.default, null)
								)
							),
							props.infoEnabled && (props.codeEnabled || props.docEnabled) && _react2.default.createElement(
								StyledPane,
								{ hermit: !props.infoEnabled, infoEnabled: props.infoEnabled },
								props.codeEnabled && !props.docEnabled && _react2.default.createElement(_codePane2.default, { hermit: !props.infoEnabled }),
								props.docEnabled && _react2.default.createElement(_docPane2.default, { hermit: !props.infoEnabled })
							)
						)
					)
				),
				_react2.default.createElement(
					_styledComponents.ThemeProvider,
					{ theme: props.themes.dark },
					_react2.default.createElement(
						StyledControlsBox,
						{ enabled: props.navigationEnabled },
						_react2.default.createElement(
							StyledControlsArea,
							{ orient: 'left' },
							_react2.default.createElement(
								StyledControlsItem,
								null,
								_react2.default.createElement(_toggleNavigation2.default, null)
							),
							_react2.default.createElement(
								StyledControlsItem,
								null,
								_react2.default.createElement(_toggleInfoPane2.default, null)
							)
						),
						_react2.default.createElement(
							StyledControlsArea,
							{ orient: 'right' },
							_react2.default.createElement(
								StyledControlsItem,
								null,
								_react2.default.createElement(_toggleOpacity2.default, null)
							),
							_react2.default.createElement(
								StyledControlsItem,
								null,
								_react2.default.createElement(_triggerFullscreen2.default, null)
							)
						)
					)
				)
			)
		)
	);
}

var WIDTH = 300;
var NAVIGATION_WIDTH = function NAVIGATION_WIDTH(props) {
	return props.enabled ? WIDTH : 0;
};
var TOOLBAR_HEIGHT = 60;
var ORIENTATION = function ORIENTATION(props) {
	var direction = props.orient === 'right' ? 'left' : 'right';
	return 'margin-' + direction + ': auto';
};

var StyledApplication = _styledComponents2.default.div(_templateObject2, function (props) {
	return props.theme.background;
});

var StyledNavigationBox = (0, _styledComponents2.default)((0, _tagHoc2.default)(['enabled'])('div'))(_templateObject3, NAVIGATION_WIDTH, NAVIGATION_WIDTH);

var StyledMessageBox = _styledComponents2.default.div(_templateObject4);

var StyledControlsArea = _styledComponents2.default.div(_templateObject5, ORIENTATION);

var StyledControlsBox = _styledComponents2.default.div(_templateObject6, TOOLBAR_HEIGHT, TOOLBAR_HEIGHT);

var StyledControlsItem = _styledComponents2.default.div(_templateObject7);

var StyledContent = _styledComponents2.default.div(_templateObject8);

var StyledContentContainer = _styledComponents2.default.div(_templateObject9, NAVIGATION_WIDTH, NAVIGATION_WIDTH);

var StyledSearchBox = _styledComponents2.default.div(_templateObject10);

var StyledSearchFrame = _styledComponents2.default.div(_templateObject11);

var StyledFloatingBox = _styledComponents2.default.div(_templateObject12);

var StyledInfoPane = _styledComponents2.default.div(_templateObject13);

var StyledPane = _styledComponents2.default.div(_templateObject14);

function meta(props) {
	return [{ name: 'description', content: props.description }, { name: 'viewport', content: 'width=device-width, initial-scale=1' }];
}
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NvdXJjZS9hcHBsaWNhdGlvbi9jb250YWluZXJzL2FwcGxpY2F0aW9uLmpzIl0sIm5hbWVzIjpbImFjdGlvbnMiLCJpdGVtIiwibWFwUHJvcHMiLCJtYXBEaXNwYXRjaCIsIkFwcGxpY2F0aW9uIiwic2VsZWN0VGhlbWVzIiwic3RhdGUiLCJjb25maWciLCJjb2xvciIsInNlbGVjdElzUGF0dGVybiIsInNlbGVjdFR5cGUiLCJ0eXBlIiwic2VsZWN0Q29kZUVuYWJsZWQiLCJjb2RlRW5hYmxlZCIsImlzUGF0dGVybiIsImVuYWJsZWQiLCJzZWxlY3REb2NFbmFibGVkIiwic2VsZWN0Q29udGVudHMiLCJkb2NFbmFibGVkIiwiY29udGVudHMiLCJCb29sZWFuIiwic2VsZWN0SW5mb0VuYWJsZWQiLCJpbmZvRW5hYmxlZCIsImRlc2NyaXB0aW9uIiwic2NoZW1hIiwibGlnaHRib3giLCJuYXZpZ2F0aW9uRW5hYmxlZCIsInNlYXJjaEVuYWJsZWQiLCJ0aGVtZSIsInRoZW1lcyIsInRpdGxlIiwibmFtZSIsImRpc3BhdGNoIiwib25Mb2FkIiwibGlzdGVuIiwidXJsIiwib25SZXNpemUiLCJ3aW5kb3dSZXNpemUiLCJwcm9wcyIsIm1ldGEiLCJkYXJrIiwiY2hpbGRyZW4iLCJXSURUSCIsIk5BVklHQVRJT05fV0lEVEgiLCJUT09MQkFSX0hFSUdIVCIsIk9SSUVOVEFUSU9OIiwiZGlyZWN0aW9uIiwib3JpZW50IiwiU3R5bGVkQXBwbGljYXRpb24iLCJkaXYiLCJiYWNrZ3JvdW5kIiwiU3R5bGVkTmF2aWdhdGlvbkJveCIsIlN0eWxlZE1lc3NhZ2VCb3giLCJTdHlsZWRDb250cm9sc0FyZWEiLCJTdHlsZWRDb250cm9sc0JveCIsIlN0eWxlZENvbnRyb2xzSXRlbSIsIlN0eWxlZENvbnRlbnQiLCJTdHlsZWRDb250ZW50Q29udGFpbmVyIiwiU3R5bGVkU2VhcmNoQm94IiwiU3R5bGVkU2VhcmNoRnJhbWUiLCJTdHlsZWRGbG9hdGluZ0JveCIsIlN0eWxlZEluZm9QYW5lIiwiU3R5bGVkUGFuZSIsImNvbnRlbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOztBQUNBOztBQUNBOztBQUVBOztJQUFZQSxPOztBQUNaOztJQUFZQyxJOztBQUNaOzs7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O2tCQUVlLHlCQUFRQyxRQUFSLEVBQWtCQyxXQUFsQixFQUErQkMsV0FBL0IsQzs7O0FBRWYsSUFBTUMsZUFBZSw4QkFDcEI7QUFBQSxRQUFTQyxNQUFNQyxNQUFOLENBQWFDLEtBQXRCO0FBQUEsQ0FEb0IsRUFFcEI7QUFBQSxRQUFTLHNCQUFPQSxLQUFQLENBQVQ7QUFBQSxDQUZvQixDQUFyQjs7QUFLQSxJQUFNQyxrQkFBa0IsOEJBQ3ZCUixLQUFLUyxVQURrQixFQUV2QjtBQUFBLFFBQVFDLFNBQVMsU0FBakI7QUFBQSxDQUZ1QixDQUF4Qjs7QUFLQSxJQUFNQyxvQkFBb0IsOEJBQ3pCSCxlQUR5QixFQUV6QjtBQUFBLFFBQVNILE1BQU1PLFdBQWY7QUFBQSxDQUZ5QixFQUd6QixVQUFDQyxTQUFELEVBQVlDLE9BQVo7QUFBQSxRQUF3QkQsYUFBYUMsT0FBckM7QUFBQSxDQUh5QixDQUExQjs7QUFNQSxJQUFNQyxtQkFBbUIsOEJBQ3hCUCxlQUR3QixFQUV4QlIsS0FBS2dCLGNBRm1CLEVBR3hCO0FBQUEsUUFBU1gsTUFBTVksVUFBZjtBQUFBLENBSHdCLEVBSXhCLFVBQUNKLFNBQUQsRUFBWUssUUFBWixFQUFzQkQsVUFBdEI7QUFBQSxRQUFxQ0osYUFBYU0sUUFBUUQsUUFBUixDQUFiLElBQWtDRCxVQUF2RTtBQUFBLENBSndCLENBQXpCOztBQU9BLElBQU1HLG9CQUFvQiw4QkFDekJaLGVBRHlCLEVBRXpCO0FBQUEsUUFBU0gsTUFBTWdCLFdBQWY7QUFBQSxDQUZ5QixFQUd6QixVQUFDUixTQUFELEVBQVlDLE9BQVo7QUFBQSxRQUF3QkQsYUFBYUMsT0FBckM7QUFBQSxDQUh5QixDQUExQjs7QUFPQSxTQUFTYixRQUFULENBQWtCSSxLQUFsQixFQUF5QjtBQUN4QixRQUFPO0FBQ05PLGVBQWFELGtCQUFrQk4sS0FBbEIsQ0FEUDtBQUVOWSxjQUFZRixpQkFBaUJWLEtBQWpCLENBRk47QUFHTmlCLGVBQWFqQixNQUFNa0IsTUFBTixDQUFhRCxXQUhwQjtBQUlORCxlQUFhRCxrQkFBa0JmLEtBQWxCLENBSlA7QUFLTm1CLFlBQVVuQixNQUFNbUIsUUFMVjtBQU1OQyxxQkFBbUJwQixNQUFNb0IsaUJBTm5CO0FBT05DLGlCQUFlckIsTUFBTXFCLGFBUGY7QUFRTkMsU0FBT3RCLE1BQU1zQixLQVJQO0FBU05DLFVBQVF4QixhQUFhQyxLQUFiLENBVEY7QUFVTndCLFNBQU94QixNQUFNQyxNQUFOLENBQWF1QixLQUFiLElBQXNCeEIsTUFBTWtCLE1BQU4sQ0FBYU87QUFWcEMsRUFBUDtBQVlBOztBQUVELFNBQVM1QixXQUFULENBQXFCNkIsUUFBckIsRUFBK0I7QUFDOUIsUUFBTywrQkFBbUI7QUFDekJDLFVBQVE7QUFBQSxVQUFNakMsUUFBUWtDLE1BQVIsQ0FBZSxFQUFDQyxLQUFLLEtBQU4sRUFBZixDQUFOO0FBQUEsR0FEaUI7QUFFekJDLFlBQVVwQyxRQUFRcUM7QUFGTyxFQUFuQixFQUdKTCxRQUhJLENBQVA7QUFJQTs7QUFFRCxTQUFTNUIsV0FBVCxDQUFxQmtDLEtBQXJCLEVBQTRCO0FBQzNCO0FBQ0E7QUFjQTs7QUFFQSxRQUNDO0FBQUE7QUFBQSxJQUFlLE9BQU9BLE1BQU1ULE1BQU4sQ0FBYVMsTUFBTVYsS0FBbkIsQ0FBdEI7QUFDQztBQUFDLG9CQUFEO0FBQUE7QUFDQywwREFBUSxNQUFNVyxLQUFLRCxLQUFMLENBQWQsRUFBMkIsT0FBT0EsTUFBTVIsS0FBeEMsR0FERDtBQUVDLHlEQUZEO0FBR0M7QUFBQTtBQUFBLE1BQWUsT0FBT1EsTUFBTVQsTUFBTixDQUFhVyxJQUFuQztBQUNDO0FBQUMsd0JBQUQ7QUFBQSxPQUFxQixTQUFTRixNQUFNWixpQkFBcEM7QUFFRVksV0FBTVosaUJBQU4sSUFDQztBQUhIO0FBREQsSUFIRDtBQVdDO0FBQUMsMEJBQUQ7QUFBQTtBQUNDO0FBQUMsa0JBQUQ7QUFBQSxPQUFlLG1CQUFtQlksTUFBTVosaUJBQXhDO0FBQ0M7QUFBQyxzQkFBRDtBQUFBO0FBQ0M7QUFERCxNQUREO0FBSUVZLFdBQU1HLFFBSlI7QUFLRUgsV0FBTVgsYUFBTixJQUNBO0FBQUE7QUFBQSxRQUFlLE9BQU9XLE1BQU1ULE1BQU4sQ0FBYVcsSUFBbkM7QUFDQztBQUFDLHNCQUFEO0FBQUE7QUFDQztBQUFDLHlCQUFEO0FBQUE7QUFDQztBQUREO0FBREQ7QUFERCxNQU5GO0FBY0M7QUFBQTtBQUFBLFFBQWUsT0FBT0YsTUFBTVQsTUFBTixDQUFhVyxJQUFuQztBQUNDO0FBQUMsd0JBQUQ7QUFBQTtBQUNFRixhQUFNaEIsV0FBTixJQUNBO0FBQUMsc0JBQUQ7QUFBQTtBQUNDO0FBQUE7QUFBQSxXQUFVLFFBQVEsRUFBRWdCLE1BQU16QixXQUFOLElBQXFCeUIsTUFBTXBCLFVBQTdCLENBQWxCO0FBQ0Msa0VBREQ7QUFFQztBQUZEO0FBREQsUUFGRjtBQVNFb0IsYUFBTWhCLFdBQU4sS0FBc0JnQixNQUFNekIsV0FBTixJQUFxQnlCLE1BQU1wQixVQUFqRCxLQUNBO0FBQUMsa0JBQUQ7QUFBQSxVQUFZLFFBQVEsQ0FBQ29CLE1BQU1oQixXQUEzQixFQUF3QyxhQUFhZ0IsTUFBTWhCLFdBQTNEO0FBQ0dnQixjQUFNekIsV0FBTixJQUFxQixDQUFDeUIsTUFBTXBCLFVBQTdCLElBQ0Esb0RBQVUsUUFBUSxDQUFDb0IsTUFBTWhCLFdBQXpCLEdBRkY7QUFJRWdCLGNBQU1wQixVQUFOLElBQ0EsbURBQVMsUUFBUSxDQUFDb0IsTUFBTWhCLFdBQXhCO0FBTEY7QUFWRjtBQUREO0FBZEQsS0FERDtBQXNDQztBQUFBO0FBQUEsT0FBZSxPQUFPZ0IsTUFBTVQsTUFBTixDQUFhVyxJQUFuQztBQUNDO0FBQUMsdUJBQUQ7QUFBQSxRQUFtQixTQUFTRixNQUFNWixpQkFBbEM7QUFDQztBQUFDLHlCQUFEO0FBQUEsU0FBb0IsUUFBTyxNQUEzQjtBQUNDO0FBQUMsMEJBQUQ7QUFBQTtBQUNDO0FBREQsUUFERDtBQUlDO0FBQUMsMEJBQUQ7QUFBQTtBQUNDO0FBREQ7QUFKRCxPQUREO0FBU0M7QUFBQyx5QkFBRDtBQUFBLFNBQW9CLFFBQU8sT0FBM0I7QUFDQztBQUFDLDBCQUFEO0FBQUE7QUFDQztBQURELFFBREQ7QUFJQztBQUFDLDBCQUFEO0FBQUE7QUFDQztBQUREO0FBSkQ7QUFURDtBQUREO0FBdENEO0FBWEQ7QUFERCxFQUREO0FBMkVBOztBQUVELElBQU1nQixRQUFRLEdBQWQ7QUFDQSxJQUFNQyxtQkFBbUIsU0FBbkJBLGdCQUFtQjtBQUFBLFFBQVNMLE1BQU12QixPQUFOLEdBQWdCMkIsS0FBaEIsR0FBd0IsQ0FBakM7QUFBQSxDQUF6QjtBQUNBLElBQU1FLGlCQUFpQixFQUF2QjtBQUNBLElBQU1DLGNBQWMsU0FBZEEsV0FBYyxRQUFTO0FBQzVCLEtBQU1DLFlBQVlSLE1BQU1TLE1BQU4sS0FBaUIsT0FBakIsR0FBMkIsTUFBM0IsR0FBb0MsT0FBdEQ7QUFDQSxvQkFBaUJELFNBQWpCO0FBQ0EsQ0FIRDs7QUFLQSxJQUFNRSxvQkFBb0IsMkJBQU9DLEdBQTNCLG1CQUtTO0FBQUEsUUFBU1gsTUFBTVYsS0FBTixDQUFZc0IsVUFBckI7QUFBQSxDQUxULENBQU47O0FBUUEsSUFBTUMsc0JBQXNCLGdDQUFPLHNCQUFJLENBQUMsU0FBRCxDQUFKLEVBQWlCLEtBQWpCLENBQVAsQ0FBdEIsbUJBSUlSLGdCQUpKLEVBS09BLGdCQUxQLENBQU47O0FBUUEsSUFBTVMsbUJBQW1CLDJCQUFPSCxHQUExQixrQkFBTjs7QUFRQSxJQUFNSSxxQkFBcUIsMkJBQU9KLEdBQTVCLG1CQUVISixXQUZHLENBQU47O0FBS0EsSUFBTVMsb0JBQW9CLDJCQUFPTCxHQUEzQixtQkFHT0wsY0FIUCxFQU9LQSxjQVBMLENBQU47O0FBV0EsSUFBTVcscUJBQXFCLDJCQUFPTixHQUE1QixrQkFBTjs7QUFNQSxJQUFNTyxnQkFBZ0IsMkJBQU9QLEdBQXZCLGtCQUFOOztBQU9BLElBQU1RLHlCQUF5QiwyQkFBT1IsR0FBaEMsbUJBRW1CTixnQkFGbkIsRUFHZ0JBLGdCQUhoQixDQUFOOztBQVNBLElBQU1lLGtCQUFrQiwyQkFBT1QsR0FBekIsbUJBQU47O0FBVUEsSUFBTVUsb0JBQW9CLDJCQUFPVixHQUEzQixtQkFBTjs7QUFTQSxJQUFNVyxvQkFBb0IsMkJBQU9YLEdBQTNCLG1CQUFOOztBQVlBLElBQU1ZLGlCQUFpQiwyQkFBT1osR0FBeEIsbUJBQU47O0FBTUEsSUFBTWEsYUFBYSwyQkFBT2IsR0FBcEIsbUJBQU47O0FBU0EsU0FBU1YsSUFBVCxDQUFjRCxLQUFkLEVBQXFCO0FBQ3BCLFFBQU8sQ0FDTixFQUFDUCxNQUFNLGFBQVAsRUFBc0JnQyxTQUFTekIsTUFBTWYsV0FBckMsRUFETSxFQUVOLEVBQUNRLE1BQU0sVUFBUCxFQUFtQmdDLFNBQVMscUNBQTVCLEVBRk0sQ0FBUDtBQUlBIiwiZmlsZSI6ImFwcGxpY2F0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBIZWxtZXQgZnJvbSAncmVhY3QtaGVsbWV0JztcbmltcG9ydCBzdHlsZWQsIHtUaGVtZVByb3ZpZGVyLCBpbmplY3RHbG9iYWx9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB0YWcgZnJvbSAndGFnLWhvYyc7XG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7YmluZEFjdGlvbkNyZWF0b3JzfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQge2NyZWF0ZVNlbGVjdG9yfSBmcm9tICdyZXNlbGVjdCc7XG5cbmltcG9ydCAqIGFzIGFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucyc7XG5pbXBvcnQgKiBhcyBpdGVtIGZyb20gJy4uL3NlbGVjdG9ycy9pdGVtJztcbmltcG9ydCB0aGVtZXMgZnJvbSAnLi4vdGhlbWVzJztcblxuaW1wb3J0IENvZGVQYW5lIGZyb20gJy4vY29kZS1wYW5lJztcbmltcG9ydCBEb2NQYW5lIGZyb20gJy4vZG9jLXBhbmUnO1xuaW1wb3J0IEZhdmljb24gZnJvbSAnLi9mYXZpY29uJztcbmltcG9ydCBGdWxsc2NyZWVuIGZyb20gJy4vdHJpZ2dlci1mdWxsc2NyZWVuJztcbmltcG9ydCBJbmZvUGFuZSBmcm9tICcuL2luZm8tcGFuZSc7XG5pbXBvcnQgTWVzc2FnZSBmcm9tICcuL21lc3NhZ2UnO1xuaW1wb3J0IE5hdmlnYXRpb24gZnJvbSAnLi9uYXZpZ2F0aW9uJztcbmltcG9ydCBUb2dnbGVEb2MgZnJvbSAnLi90b2dnbGUtZG9jJztcbmltcG9ydCBUb2dnbGVJbmZvUGFuZSBmcm9tICcuL3RvZ2dsZS1pbmZvLXBhbmUnO1xuaW1wb3J0IFRvZ2dsZU5hdmlnYXRpb24gZnJvbSAnLi90b2dnbGUtbmF2aWdhdGlvbic7XG5pbXBvcnQgVG9nZ2xlT3BhY2l0eSBmcm9tICcuL3RvZ2dsZS1vcGFjaXR5JztcbmltcG9ydCBUb2dnbGVTb3VyY2UgZnJvbSAnLi90b2dnbGUtY29kZSc7XG5pbXBvcnQgU2VhcmNoIGZyb20gJy4vc2VhcmNoJztcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBQcm9wcywgbWFwRGlzcGF0Y2gpKEFwcGxpY2F0aW9uKTtcblxuY29uc3Qgc2VsZWN0VGhlbWVzID0gY3JlYXRlU2VsZWN0b3IoXG5cdHN0YXRlID0+IHN0YXRlLmNvbmZpZy5jb2xvcixcblx0Y29sb3IgPT4gdGhlbWVzKGNvbG9yKVxuKTtcblxuY29uc3Qgc2VsZWN0SXNQYXR0ZXJuID0gY3JlYXRlU2VsZWN0b3IoXG5cdGl0ZW0uc2VsZWN0VHlwZSxcblx0dHlwZSA9PiB0eXBlID09PSAncGF0dGVybidcbik7XG5cbmNvbnN0IHNlbGVjdENvZGVFbmFibGVkID0gY3JlYXRlU2VsZWN0b3IoXG5cdHNlbGVjdElzUGF0dGVybixcblx0c3RhdGUgPT4gc3RhdGUuY29kZUVuYWJsZWQsXG5cdChpc1BhdHRlcm4sIGVuYWJsZWQpID0+IGlzUGF0dGVybiAmJiBlbmFibGVkXG4pO1xuXG5jb25zdCBzZWxlY3REb2NFbmFibGVkID0gY3JlYXRlU2VsZWN0b3IoXG5cdHNlbGVjdElzUGF0dGVybixcblx0aXRlbS5zZWxlY3RDb250ZW50cyxcblx0c3RhdGUgPT4gc3RhdGUuZG9jRW5hYmxlZCxcblx0KGlzUGF0dGVybiwgY29udGVudHMsIGRvY0VuYWJsZWQpID0+IGlzUGF0dGVybiAmJiBCb29sZWFuKGNvbnRlbnRzKSAmJiBkb2NFbmFibGVkXG4pO1xuXG5jb25zdCBzZWxlY3RJbmZvRW5hYmxlZCA9IGNyZWF0ZVNlbGVjdG9yKFxuXHRzZWxlY3RJc1BhdHRlcm4sXG5cdHN0YXRlID0+IHN0YXRlLmluZm9FbmFibGVkLFxuXHQoaXNQYXR0ZXJuLCBlbmFibGVkKSA9PiBpc1BhdHRlcm4gJiYgZW5hYmxlZFxuKTtcblxuXG5mdW5jdGlvbiBtYXBQcm9wcyhzdGF0ZSkge1xuXHRyZXR1cm4ge1xuXHRcdGNvZGVFbmFibGVkOiBzZWxlY3RDb2RlRW5hYmxlZChzdGF0ZSksXG5cdFx0ZG9jRW5hYmxlZDogc2VsZWN0RG9jRW5hYmxlZChzdGF0ZSksXG5cdFx0ZGVzY3JpcHRpb246IHN0YXRlLnNjaGVtYS5kZXNjcmlwdGlvbixcblx0XHRpbmZvRW5hYmxlZDogc2VsZWN0SW5mb0VuYWJsZWQoc3RhdGUpLFxuXHRcdGxpZ2h0Ym94OiBzdGF0ZS5saWdodGJveCxcblx0XHRuYXZpZ2F0aW9uRW5hYmxlZDogc3RhdGUubmF2aWdhdGlvbkVuYWJsZWQsXG5cdFx0c2VhcmNoRW5hYmxlZDogc3RhdGUuc2VhcmNoRW5hYmxlZCxcblx0XHR0aGVtZTogc3RhdGUudGhlbWUsXG5cdFx0dGhlbWVzOiBzZWxlY3RUaGVtZXMoc3RhdGUpLFxuXHRcdHRpdGxlOiBzdGF0ZS5jb25maWcudGl0bGUgfHwgc3RhdGUuc2NoZW1hLm5hbWVcblx0fTtcbn1cblxuZnVuY3Rpb24gbWFwRGlzcGF0Y2goZGlzcGF0Y2gpIHtcblx0cmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9ycyh7XG5cdFx0b25Mb2FkOiAoKSA9PiBhY3Rpb25zLmxpc3Rlbih7dXJsOiAnYXBpJ30pLFxuXHRcdG9uUmVzaXplOiBhY3Rpb25zLndpbmRvd1Jlc2l6ZVxuXHR9LCBkaXNwYXRjaCk7XG59XG5cbmZ1bmN0aW9uIEFwcGxpY2F0aW9uKHByb3BzKSB7XG5cdC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuXHRpbmplY3RHbG9iYWxgXG5cdFx0aHRtbCxcblx0XHRib2R5IHtcblx0XHRcdGhlaWdodDogMTAwJTtcblx0XHRcdG92ZXJmbG93OiBoaWRkZW47XG5cdFx0fVxuXHRcdGJvZHkge1xuXHRcdFx0bWFyZ2luOiAwO1xuXHRcdFx0aGVpZ2h0OiAxMDAlO1xuXHRcdH1cblx0XHRbZGF0YS1hcHBsaWNhdGlvbl0ge1xuXHRcdFx0aGVpZ2h0OiAxMDAlO1xuXHRcdH1cblx0YDtcblx0LyogZXNsaW50LWVuYWJsZSAqL1xuXG5cdHJldHVybiAoXG5cdFx0PFRoZW1lUHJvdmlkZXIgdGhlbWU9e3Byb3BzLnRoZW1lc1twcm9wcy50aGVtZV19PlxuXHRcdFx0PFN0eWxlZEFwcGxpY2F0aW9uPlxuXHRcdFx0XHQ8SGVsbWV0IG1ldGE9e21ldGEocHJvcHMpfSB0aXRsZT17cHJvcHMudGl0bGV9Lz5cblx0XHRcdFx0PEZhdmljb24vPlxuXHRcdFx0XHQ8VGhlbWVQcm92aWRlciB0aGVtZT17cHJvcHMudGhlbWVzLmRhcmt9PlxuXHRcdFx0XHRcdDxTdHlsZWROYXZpZ2F0aW9uQm94IGVuYWJsZWQ9e3Byb3BzLm5hdmlnYXRpb25FbmFibGVkfT5cblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0cHJvcHMubmF2aWdhdGlvbkVuYWJsZWQgJiZcblx0XHRcdFx0XHRcdFx0XHQ8TmF2aWdhdGlvbi8+XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0PC9TdHlsZWROYXZpZ2F0aW9uQm94PlxuXHRcdFx0XHQ8L1RoZW1lUHJvdmlkZXI+XG5cdFx0XHRcdDxTdHlsZWRDb250ZW50Q29udGFpbmVyPlxuXHRcdFx0XHRcdDxTdHlsZWRDb250ZW50IG5hdmlnYXRpb25FbmFibGVkPXtwcm9wcy5uYXZpZ2F0aW9uRW5hYmxlZH0+XG5cdFx0XHRcdFx0XHQ8U3R5bGVkTWVzc2FnZUJveD5cblx0XHRcdFx0XHRcdFx0PE1lc3NhZ2UvPlxuXHRcdFx0XHRcdFx0PC9TdHlsZWRNZXNzYWdlQm94PlxuXHRcdFx0XHRcdFx0e3Byb3BzLmNoaWxkcmVufVxuXHRcdFx0XHRcdFx0e3Byb3BzLnNlYXJjaEVuYWJsZWQgJiZcblx0XHRcdFx0XHRcdFx0PFRoZW1lUHJvdmlkZXIgdGhlbWU9e3Byb3BzLnRoZW1lcy5kYXJrfT5cblx0XHRcdFx0XHRcdFx0XHQ8U3R5bGVkU2VhcmNoQm94PlxuXHRcdFx0XHRcdFx0XHRcdFx0PFN0eWxlZFNlYXJjaEZyYW1lPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8U2VhcmNoLz5cblx0XHRcdFx0XHRcdFx0XHRcdDwvU3R5bGVkU2VhcmNoRnJhbWU+XG5cdFx0XHRcdFx0XHRcdFx0PC9TdHlsZWRTZWFyY2hCb3g+XG5cdFx0XHRcdFx0XHRcdDwvVGhlbWVQcm92aWRlcj5cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdDxUaGVtZVByb3ZpZGVyIHRoZW1lPXtwcm9wcy50aGVtZXMuZGFya30+XG5cdFx0XHRcdFx0XHRcdDxTdHlsZWRGbG9hdGluZ0JveD5cblx0XHRcdFx0XHRcdFx0XHR7cHJvcHMuaW5mb0VuYWJsZWQgJiZcblx0XHRcdFx0XHRcdFx0XHRcdDxTdHlsZWRJbmZvUGFuZT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PEluZm9QYW5lIGhlcm1pdD17IShwcm9wcy5jb2RlRW5hYmxlZCB8fCBwcm9wcy5kb2NFbmFibGVkKX0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PFRvZ2dsZVNvdXJjZS8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PFRvZ2dsZURvYy8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvSW5mb1BhbmU+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L1N0eWxlZEluZm9QYW5lPlxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR7cHJvcHMuaW5mb0VuYWJsZWQgJiYgKHByb3BzLmNvZGVFbmFibGVkIHx8IHByb3BzLmRvY0VuYWJsZWQpICYmXG5cdFx0XHRcdFx0XHRcdFx0XHQ8U3R5bGVkUGFuZSBoZXJtaXQ9eyFwcm9wcy5pbmZvRW5hYmxlZH0gaW5mb0VuYWJsZWQ9e3Byb3BzLmluZm9FbmFibGVkfT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0eyhwcm9wcy5jb2RlRW5hYmxlZCAmJiAhcHJvcHMuZG9jRW5hYmxlZCkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8Q29kZVBhbmUgaGVybWl0PXshcHJvcHMuaW5mb0VuYWJsZWR9Lz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7cHJvcHMuZG9jRW5hYmxlZCAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxEb2NQYW5lIGhlcm1pdD17IXByb3BzLmluZm9FbmFibGVkfS8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdDwvU3R5bGVkUGFuZT5cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdDwvU3R5bGVkRmxvYXRpbmdCb3g+XG5cdFx0XHRcdFx0XHQ8L1RoZW1lUHJvdmlkZXI+XG5cdFx0XHRcdFx0PC9TdHlsZWRDb250ZW50PlxuXHRcdFx0XHRcdDxUaGVtZVByb3ZpZGVyIHRoZW1lPXtwcm9wcy50aGVtZXMuZGFya30+XG5cdFx0XHRcdFx0XHQ8U3R5bGVkQ29udHJvbHNCb3ggZW5hYmxlZD17cHJvcHMubmF2aWdhdGlvbkVuYWJsZWR9PlxuXHRcdFx0XHRcdFx0XHQ8U3R5bGVkQ29udHJvbHNBcmVhIG9yaWVudD1cImxlZnRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8U3R5bGVkQ29udHJvbHNJdGVtPlxuXHRcdFx0XHRcdFx0XHRcdFx0PFRvZ2dsZU5hdmlnYXRpb24vPlxuXHRcdFx0XHRcdFx0XHRcdDwvU3R5bGVkQ29udHJvbHNJdGVtPlxuXHRcdFx0XHRcdFx0XHRcdDxTdHlsZWRDb250cm9sc0l0ZW0+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8VG9nZ2xlSW5mb1BhbmUvPlxuXHRcdFx0XHRcdFx0XHRcdDwvU3R5bGVkQ29udHJvbHNJdGVtPlxuXHRcdFx0XHRcdFx0XHQ8L1N0eWxlZENvbnRyb2xzQXJlYT5cblx0XHRcdFx0XHRcdFx0PFN0eWxlZENvbnRyb2xzQXJlYSBvcmllbnQ9XCJyaWdodFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxTdHlsZWRDb250cm9sc0l0ZW0+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8VG9nZ2xlT3BhY2l0eS8+XG5cdFx0XHRcdFx0XHRcdFx0PC9TdHlsZWRDb250cm9sc0l0ZW0+XG5cdFx0XHRcdFx0XHRcdFx0PFN0eWxlZENvbnRyb2xzSXRlbT5cblx0XHRcdFx0XHRcdFx0XHRcdDxGdWxsc2NyZWVuLz5cblx0XHRcdFx0XHRcdFx0XHQ8L1N0eWxlZENvbnRyb2xzSXRlbT5cblx0XHRcdFx0XHRcdFx0PC9TdHlsZWRDb250cm9sc0FyZWE+XG5cdFx0XHRcdFx0XHQ8L1N0eWxlZENvbnRyb2xzQm94PlxuXHRcdFx0XHRcdDwvVGhlbWVQcm92aWRlcj5cblx0XHRcdFx0PC9TdHlsZWRDb250ZW50Q29udGFpbmVyPlxuXHRcdFx0PC9TdHlsZWRBcHBsaWNhdGlvbj5cblx0XHQ8L1RoZW1lUHJvdmlkZXI+XG5cdCk7XG59XG5cbmNvbnN0IFdJRFRIID0gMzAwO1xuY29uc3QgTkFWSUdBVElPTl9XSURUSCA9IHByb3BzID0+IHByb3BzLmVuYWJsZWQgPyBXSURUSCA6IDA7XG5jb25zdCBUT09MQkFSX0hFSUdIVCA9IDYwO1xuY29uc3QgT1JJRU5UQVRJT04gPSBwcm9wcyA9PiB7XG5cdGNvbnN0IGRpcmVjdGlvbiA9IHByb3BzLm9yaWVudCA9PT0gJ3JpZ2h0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG5cdHJldHVybiBgbWFyZ2luLSR7ZGlyZWN0aW9ufTogYXV0b2A7XG59O1xuXG5jb25zdCBTdHlsZWRBcHBsaWNhdGlvbiA9IHN0eWxlZC5kaXZgXG5cdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG5cdGRpc3BsYXk6IGZsZXg7XG5cdHdpZHRoOiAxMDAlO1xuXHRoZWlnaHQ6IDEwMCU7XG5cdGJhY2tncm91bmQ6ICR7cHJvcHMgPT4gcHJvcHMudGhlbWUuYmFja2dyb3VuZH07XG5gO1xuXG5jb25zdCBTdHlsZWROYXZpZ2F0aW9uQm94ID0gc3R5bGVkKHRhZyhbJ2VuYWJsZWQnXSkoJ2RpdicpKWBcblx0cG9zaXRpb246IHJlbGF0aXZlO1xuXHR6LWluZGV4OiAyO1xuXHRoZWlnaHQ6IDEwMCU7XG5cdHdpZHRoOiAke05BVklHQVRJT05fV0lEVEh9cHg7XG5cdGZsZXg6IDAgMCAke05BVklHQVRJT05fV0lEVEh9cHg7XG5gO1xuXG5jb25zdCBTdHlsZWRNZXNzYWdlQm94ID0gc3R5bGVkLmRpdmBcblx0cG9zaXRpb246IGFic29sdXRlO1xuXHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xuXHR6LWluZGV4OiAyO1xuXHRwYWRkaW5nOiAxNXB4O1xuXHR3aWR0aDogMTAwJTtcbmA7XG5cbmNvbnN0IFN0eWxlZENvbnRyb2xzQXJlYSA9IHN0eWxlZC5kaXZgXG5cdGRpc3BsYXk6IGZsZXg7XG5cdCR7T1JJRU5UQVRJT059O1xuYDtcblxuY29uc3QgU3R5bGVkQ29udHJvbHNCb3ggPSBzdHlsZWQuZGl2YFxuXHRkaXNwbGF5OiBmbGV4O1xuXHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRmbGV4OiAwIDAgJHtUT09MQkFSX0hFSUdIVH1weDtcblx0cG9zaXRpb246IHJlbGF0aXZlO1xuXHR6LWluZGV4OiAyO1xuXHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xuXHRoZWlnaHQ6ICR7VE9PTEJBUl9IRUlHSFR9cHg7XG5cdHBhZGRpbmc6IDAgMTVweDtcbmA7XG5cbmNvbnN0IFN0eWxlZENvbnRyb2xzSXRlbSA9IHN0eWxlZC5kaXZgXG5cdCYgKyAmIHtcblx0XHRwYWRkaW5nLWxlZnQ6IDEwcHg7XG5cdH1cbmA7XG5cbmNvbnN0IFN0eWxlZENvbnRlbnQgPSBzdHlsZWQuZGl2YFxuXHRmbGV4OiAxIDEgMTAwJTtcblx0d2lkdGg6IDEwMCU7XG5cdGhlaWdodDogY2FsYygxMDAlIC0gNjBweCk7XG5cdHBvc2l0aW9uOiByZWxhdGl2ZTtcbmA7XG5cbmNvbnN0IFN0eWxlZENvbnRlbnRDb250YWluZXIgPSBzdHlsZWQuZGl2YFxuXHRkaXNwbGF5OiBmbGV4O1xuXHRmbGV4OiAxIDEgY2FsYygxMDAlIC0gJHtOQVZJR0FUSU9OX1dJRFRIfXB4KTtcblx0d2lkdGg6IGNhbGMoMTAwJSAtICR7TkFWSUdBVElPTl9XSURUSH1weCk7XG5cdGhlaWdodDogMTAwJTtcblx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0b3ZlcmZsb3c6IGhpZGRlbjtcbmA7XG5cbmNvbnN0IFN0eWxlZFNlYXJjaEJveCA9IHN0eWxlZC5kaXZgXG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0dG9wOiAxMi41dmg7XG5cdGJvdHRvbTogMTB2aDtcblx0cmlnaHQ6IDA7XG5cdGxlZnQ6IDA7XG5cdHdpZHRoOiAxMDAlO1xuXHRwb2ludGVyLWV2ZW50czogbm9uZTtcbmA7XG5cbmNvbnN0IFN0eWxlZFNlYXJjaEZyYW1lID0gc3R5bGVkLmRpdmBcblx0d2lkdGg6IDkwJTtcblx0bWluLXdpZHRoOiAzMjBweDtcblx0bWF4LXdpZHRoOiA3NTBweDtcblx0bWF4LWhlaWdodDogMTAwJTtcblx0bWFyZ2luOiAwIGF1dG87XG5cdG92ZXJmbG93OiBoaWRkZW47XG5gO1xuXG5jb25zdCBTdHlsZWRGbG9hdGluZ0JveCA9IHN0eWxlZC5kaXZgXG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0cG9pbnRlci1ldmVudHM6IG5vbmU7XG5cdHotaW5kZXg6IDI7XG5cdHJpZ2h0OiAwO1xuXHRib3R0b206IDA7XG5cdGxlZnQ6IDA7XG5cdHBhZGRpbmc6IDEwcHggMTVweDtcblx0aGVpZ2h0OiAzMDBweDtcblx0ZGlzcGxheTogZmxleDtcbmA7XG5cbmNvbnN0IFN0eWxlZEluZm9QYW5lID0gc3R5bGVkLmRpdmBcblx0ZmxleDogMCAwIGF1dG87XG5cdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG5cdHBvaW50ZXItZXZlbnRzOiBhbGw7XG5gO1xuXG5jb25zdCBTdHlsZWRQYW5lID0gc3R5bGVkLmRpdmBcblx0ZmxleDogMSAxIGF1dG87XG5cdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG5cdGhlaWdodDogMTAwJTtcblx0d2lkdGg6IDEwMCU7XG5cdG92ZXJmbG93OiBoaWRkZW47XG5cdHBvaW50ZXItZXZlbnRzOiBhbGw7XG5gO1xuXG5mdW5jdGlvbiBtZXRhKHByb3BzKSB7XG5cdHJldHVybiBbXG5cdFx0e25hbWU6ICdkZXNjcmlwdGlvbicsIGNvbnRlbnQ6IHByb3BzLmRlc2NyaXB0aW9ufSxcblx0XHR7bmFtZTogJ3ZpZXdwb3J0JywgY29udGVudDogJ3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xJ31cblx0XTtcbn1cbiJdfQ==