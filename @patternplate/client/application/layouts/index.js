'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _taggedTemplateLiteral2 = require('babel-runtime/helpers/taggedTemplateLiteral');

var _taggedTemplateLiteral3 = _interopRequireDefault(_taggedTemplateLiteral2);

var _stringify = require('babel-runtime/core-js/json/stringify');

var _stringify2 = _interopRequireDefault(_stringify);

var _templateObject = (0, _taggedTemplateLiteral3.default)(['\n\tdisplay: none;\n'], ['\n\tdisplay: none;\n']); /* eslint-disable react/no-danger */


var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _server = require('react-dom/server');

var _styledComponents = require('styled-components');

var _styledComponents2 = _interopRequireDefault(_styledComponents);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = layout;


function layout(props) {
	return '<!doctype html>' + (0, _server.renderToStaticMarkup)(_react2.default.createElement(Layout, props));
}

function Layout(props) {
	var attributes = props.attributes.toComponent();
	return _react2.default.createElement(
		'html',
		attributes,
		_react2.default.createElement(
			'head',
			null,
			props.title.toComponent(),
			props.meta.toComponent(),
			props.link.toComponent(),
			props.style.toComponent(),
			props.css
		),
		_react2.default.createElement(
			'body',
			{ 'data-base': props.base },
			_react2.default.createElement(
				IconRegistry,
				null,
				props.icons
			),
			_react2.default.createElement(Content, { content: props.html }),
			_react2.default.createElement(State, { data: props.data }),
			_react2.default.createElement('script', { src: 'https://cdn.polyfill.io/v2/polyfill.min.js?features=es6,Array.prototype.includes' }),
			props.scripts.map(function (src) {
				return _react2.default.createElement('script', { key: src, src: src });
			})
		)
	);
}

Layout.propTypes = {
	attributes: _react.PropTypes.object.isRequired,
	base: _react.PropTypes.string.isRequired,
	css: _react.PropTypes.any,
	html: _react.PropTypes.string.isRequired,
	data: _react.PropTypes.object.isRequired,
	icons: _react.PropTypes.any.isRequired,
	link: _react.PropTypes.object.isRequired,
	meta: _react.PropTypes.object.isRequired,
	scripts: _react.PropTypes.arrayOf(_react.PropTypes.string).isRequired,
	style: _react.PropTypes.object.isRequired,
	title: _react.PropTypes.object.isRequired
};

function IconRegistry(props) {
	return _react2.default.createElement(
		'div',
		{ 'data-icon-registry': true },
		props.children
	);
}

IconRegistry.propTypes = {
	children: _react.PropTypes.any
};

function Content(props) {
	return _react2.default.createElement('div', { 'data-application': true, dangerouslySetInnerHTML: { __html: props.content } });
}

Content.propTypes = {
	content: _react.PropTypes.string.isRequired
};

function State(props) {
	var value = (0, _stringify2.default)(props.data);
	return _react2.default.createElement(StyledState, { 'data-application-state': true, value: value, readOnly: true });
}

State.propTypes = {
	data: _react.PropTypes.any
};

var StyledState = _styledComponents2.default.textarea(_templateObject);
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NvdXJjZS9hcHBsaWNhdGlvbi9sYXlvdXRzL2luZGV4LmpzIl0sIm5hbWVzIjpbImxheW91dCIsInByb3BzIiwiTGF5b3V0IiwiYXR0cmlidXRlcyIsInRvQ29tcG9uZW50IiwidGl0bGUiLCJtZXRhIiwibGluayIsInN0eWxlIiwiY3NzIiwiYmFzZSIsImljb25zIiwiaHRtbCIsImRhdGEiLCJzY3JpcHRzIiwibWFwIiwic3JjIiwicHJvcFR5cGVzIiwib2JqZWN0IiwiaXNSZXF1aXJlZCIsInN0cmluZyIsImFueSIsImFycmF5T2YiLCJJY29uUmVnaXN0cnkiLCJjaGlsZHJlbiIsIkNvbnRlbnQiLCJfX2h0bWwiLCJjb250ZW50IiwiU3RhdGUiLCJ2YWx1ZSIsIlN0eWxlZFN0YXRlIiwidGV4dGFyZWEiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O2dIQUFDOzs7QUFDRDs7OztBQUNBOztBQUNBOzs7Ozs7a0JBRWVBLE07OztBQUVmLFNBQVNBLE1BQVQsQ0FBZ0JDLEtBQWhCLEVBQXVCO0FBQ3RCLDRCQUF5QixrQ0FBTyw4QkFBQyxNQUFELEVBQVlBLEtBQVosQ0FBUCxDQUF6QjtBQUNBOztBQUVELFNBQVNDLE1BQVQsQ0FBZ0JELEtBQWhCLEVBQXVCO0FBQ3RCLEtBQU1FLGFBQWFGLE1BQU1FLFVBQU4sQ0FBaUJDLFdBQWpCLEVBQW5CO0FBQ0EsUUFDQztBQUFBO0FBQVVELFlBQVY7QUFDQztBQUFBO0FBQUE7QUFDRUYsU0FBTUksS0FBTixDQUFZRCxXQUFaLEVBREY7QUFFRUgsU0FBTUssSUFBTixDQUFXRixXQUFYLEVBRkY7QUFHRUgsU0FBTU0sSUFBTixDQUFXSCxXQUFYLEVBSEY7QUFJRUgsU0FBTU8sS0FBTixDQUFZSixXQUFaLEVBSkY7QUFLRUgsU0FBTVE7QUFMUixHQUREO0FBUUM7QUFBQTtBQUFBLEtBQU0sYUFBV1IsTUFBTVMsSUFBdkI7QUFDQztBQUFDLGdCQUFEO0FBQUE7QUFBZVQsVUFBTVU7QUFBckIsSUFERDtBQUVDLGlDQUFDLE9BQUQsSUFBUyxTQUFTVixNQUFNVyxJQUF4QixHQUZEO0FBR0MsaUNBQUMsS0FBRCxJQUFPLE1BQU1YLE1BQU1ZLElBQW5CLEdBSEQ7QUFJQyw2Q0FBUSxLQUFJLGtGQUFaLEdBSkQ7QUFLRVosU0FBTWEsT0FBTixDQUFjQyxHQUFkLENBQWtCO0FBQUEsV0FBTywwQ0FBUSxLQUFLQyxHQUFiLEVBQWtCLEtBQUtBLEdBQXZCLEdBQVA7QUFBQSxJQUFsQjtBQUxGO0FBUkQsRUFERDtBQWtCQTs7QUFFRGQsT0FBT2UsU0FBUCxHQUFtQjtBQUNsQmQsYUFBWSxpQkFBRWUsTUFBRixDQUFTQyxVQURIO0FBRWxCVCxPQUFNLGlCQUFFVSxNQUFGLENBQVNELFVBRkc7QUFHbEJWLE1BQUssaUJBQUVZLEdBSFc7QUFJbEJULE9BQU0saUJBQUVRLE1BQUYsQ0FBU0QsVUFKRztBQUtsQk4sT0FBTSxpQkFBRUssTUFBRixDQUFTQyxVQUxHO0FBTWxCUixRQUFPLGlCQUFFVSxHQUFGLENBQU1GLFVBTks7QUFPbEJaLE9BQU0saUJBQUVXLE1BQUYsQ0FBU0MsVUFQRztBQVFsQmIsT0FBTSxpQkFBRVksTUFBRixDQUFTQyxVQVJHO0FBU2xCTCxVQUFTLGlCQUFFUSxPQUFGLENBQVUsaUJBQUVGLE1BQVosRUFBb0JELFVBVFg7QUFVbEJYLFFBQU8saUJBQUVVLE1BQUYsQ0FBU0MsVUFWRTtBQVdsQmQsUUFBTyxpQkFBRWEsTUFBRixDQUFTQztBQVhFLENBQW5COztBQWNBLFNBQVNJLFlBQVQsQ0FBc0J0QixLQUF0QixFQUE2QjtBQUM1QixRQUFPO0FBQUE7QUFBQSxJQUFLLDBCQUFMO0FBQXlCQSxRQUFNdUI7QUFBL0IsRUFBUDtBQUNBOztBQUVERCxhQUFhTixTQUFiLEdBQXlCO0FBQ3hCTyxXQUFVLGlCQUFFSDtBQURZLENBQXpCOztBQUlBLFNBQVNJLE9BQVQsQ0FBaUJ4QixLQUFqQixFQUF3QjtBQUN2QixRQUNDLHVDQUFLLHdCQUFMLEVBQXNCLHlCQUF5QixFQUFDeUIsUUFBUXpCLE1BQU0wQixPQUFmLEVBQS9DLEdBREQ7QUFHQTs7QUFFREYsUUFBUVIsU0FBUixHQUFvQjtBQUNuQlUsVUFBUyxpQkFBRVAsTUFBRixDQUFTRDtBQURDLENBQXBCOztBQUlBLFNBQVNTLEtBQVQsQ0FBZTNCLEtBQWYsRUFBc0I7QUFDckIsS0FBTTRCLFFBQVEseUJBQWU1QixNQUFNWSxJQUFyQixDQUFkO0FBQ0EsUUFBTyw4QkFBQyxXQUFELElBQWEsOEJBQWIsRUFBb0MsT0FBT2dCLEtBQTNDLEVBQWtELGNBQWxELEdBQVA7QUFDQTs7QUFFREQsTUFBTVgsU0FBTixHQUFrQjtBQUNqQkosT0FBTSxpQkFBRVE7QUFEUyxDQUFsQjs7QUFJQSxJQUFNUyxjQUFjLDJCQUFPQyxRQUFyQixpQkFBTiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9uby1kYW5nZXIgKi9cbmltcG9ydCBSZWFjdCwge1Byb3BUeXBlcyBhcyB0fSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge3JlbmRlclRvU3RhdGljTWFya3VwIGFzIHJlbmRlcn0gZnJvbSAncmVhY3QtZG9tL3NlcnZlcic7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgbGF5b3V0O1xuXG5mdW5jdGlvbiBsYXlvdXQocHJvcHMpIHtcblx0cmV0dXJuIGA8IWRvY3R5cGUgaHRtbD4ke3JlbmRlcig8TGF5b3V0IHsuLi5wcm9wc30vPil9YDtcbn1cblxuZnVuY3Rpb24gTGF5b3V0KHByb3BzKSB7XG5cdGNvbnN0IGF0dHJpYnV0ZXMgPSBwcm9wcy5hdHRyaWJ1dGVzLnRvQ29tcG9uZW50KCk7XG5cdHJldHVybiAoXG5cdFx0PGh0bWwgey4uLmF0dHJpYnV0ZXN9PlxuXHRcdFx0PGhlYWQ+XG5cdFx0XHRcdHtwcm9wcy50aXRsZS50b0NvbXBvbmVudCgpfVxuXHRcdFx0XHR7cHJvcHMubWV0YS50b0NvbXBvbmVudCgpfVxuXHRcdFx0XHR7cHJvcHMubGluay50b0NvbXBvbmVudCgpfVxuXHRcdFx0XHR7cHJvcHMuc3R5bGUudG9Db21wb25lbnQoKX1cblx0XHRcdFx0e3Byb3BzLmNzc31cblx0XHRcdDwvaGVhZD5cblx0XHRcdDxib2R5IGRhdGEtYmFzZT17cHJvcHMuYmFzZX0+XG5cdFx0XHRcdDxJY29uUmVnaXN0cnk+e3Byb3BzLmljb25zfTwvSWNvblJlZ2lzdHJ5PlxuXHRcdFx0XHQ8Q29udGVudCBjb250ZW50PXtwcm9wcy5odG1sfS8+XG5cdFx0XHRcdDxTdGF0ZSBkYXRhPXtwcm9wcy5kYXRhfS8+XG5cdFx0XHRcdDxzY3JpcHQgc3JjPVwiaHR0cHM6Ly9jZG4ucG9seWZpbGwuaW8vdjIvcG9seWZpbGwubWluLmpzP2ZlYXR1cmVzPWVzNixBcnJheS5wcm90b3R5cGUuaW5jbHVkZXNcIi8+XG5cdFx0XHRcdHtwcm9wcy5zY3JpcHRzLm1hcChzcmMgPT4gPHNjcmlwdCBrZXk9e3NyY30gc3JjPXtzcmN9Lz4pfVxuXHRcdFx0PC9ib2R5PlxuXHRcdDwvaHRtbD5cblx0KTtcbn1cblxuTGF5b3V0LnByb3BUeXBlcyA9IHtcblx0YXR0cmlidXRlczogdC5vYmplY3QuaXNSZXF1aXJlZCxcblx0YmFzZTogdC5zdHJpbmcuaXNSZXF1aXJlZCxcblx0Y3NzOiB0LmFueSxcblx0aHRtbDogdC5zdHJpbmcuaXNSZXF1aXJlZCxcblx0ZGF0YTogdC5vYmplY3QuaXNSZXF1aXJlZCxcblx0aWNvbnM6IHQuYW55LmlzUmVxdWlyZWQsXG5cdGxpbms6IHQub2JqZWN0LmlzUmVxdWlyZWQsXG5cdG1ldGE6IHQub2JqZWN0LmlzUmVxdWlyZWQsXG5cdHNjcmlwdHM6IHQuYXJyYXlPZih0LnN0cmluZykuaXNSZXF1aXJlZCxcblx0c3R5bGU6IHQub2JqZWN0LmlzUmVxdWlyZWQsXG5cdHRpdGxlOiB0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuXG5mdW5jdGlvbiBJY29uUmVnaXN0cnkocHJvcHMpIHtcblx0cmV0dXJuIDxkaXYgZGF0YS1pY29uLXJlZ2lzdHJ5Pntwcm9wcy5jaGlsZHJlbn08L2Rpdj47XG59XG5cbkljb25SZWdpc3RyeS5wcm9wVHlwZXMgPSB7XG5cdGNoaWxkcmVuOiB0LmFueVxufTtcblxuZnVuY3Rpb24gQ29udGVudChwcm9wcykge1xuXHRyZXR1cm4gKFxuXHRcdDxkaXYgZGF0YS1hcHBsaWNhdGlvbiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogcHJvcHMuY29udGVudH19Lz5cblx0KTtcbn1cblxuQ29udGVudC5wcm9wVHlwZXMgPSB7XG5cdGNvbnRlbnQ6IHQuc3RyaW5nLmlzUmVxdWlyZWRcbn07XG5cbmZ1bmN0aW9uIFN0YXRlKHByb3BzKSB7XG5cdGNvbnN0IHZhbHVlID0gSlNPTi5zdHJpbmdpZnkocHJvcHMuZGF0YSk7XG5cdHJldHVybiA8U3R5bGVkU3RhdGUgZGF0YS1hcHBsaWNhdGlvbi1zdGF0ZSB2YWx1ZT17dmFsdWV9IHJlYWRPbmx5Lz47XG59XG5cblN0YXRlLnByb3BUeXBlcyA9IHtcblx0ZGF0YTogdC5hbnlcbn07XG5cbmNvbnN0IFN0eWxlZFN0YXRlID0gc3R5bGVkLnRleHRhcmVhYFxuXHRkaXNwbGF5OiBub25lO1xuYDtcbiJdfQ==