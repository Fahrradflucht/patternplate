'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.getBase = getBase;

var _reduxActions = require('redux-actions');

var _depth = require('./depth');

function getBase(pathname) {
	var depth = (0, _depth.getDepth)(pathname);

	return depth > 0 ? '/' + pathname.split('/').filter(Boolean).slice(0, depth).join('/') + '/' : '/';
}

exports.default = (0, _reduxActions.handleAction)('@@router/LOCATION_CHANGE', {
	next: function next(_, _ref) {
		var pathname = _ref.payload.pathname;

		return getBase(pathname);
	}
}, '/');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NvdXJjZS9hcHBsaWNhdGlvbi9yZWR1Y2Vycy9iYXNlLmpzIl0sIm5hbWVzIjpbImdldEJhc2UiLCJwYXRobmFtZSIsImRlcHRoIiwic3BsaXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwic2xpY2UiLCJqb2luIiwibmV4dCIsIl8iLCJwYXlsb2FkIl0sIm1hcHBpbmdzIjoiOzs7OztRQUdnQkEsTyxHQUFBQSxPOztBQUhoQjs7QUFDQTs7QUFFTyxTQUFTQSxPQUFULENBQWlCQyxRQUFqQixFQUEyQjtBQUNqQyxLQUFNQyxRQUFRLHFCQUFTRCxRQUFULENBQWQ7O0FBRUEsUUFBT0MsUUFBUSxDQUFSLFNBQ0ZELFNBQ0ZFLEtBREUsQ0FDSSxHQURKLEVBRUZDLE1BRkUsQ0FFS0MsT0FGTCxFQUdGQyxLQUhFLENBR0ksQ0FISixFQUdPSixLQUhQLEVBSUZLLElBSkUsQ0FJRyxHQUpILENBREUsU0FNTixHQU5EO0FBT0E7O2tCQUVjLGdDQUFhLDBCQUFiLEVBQXlDO0FBQ3ZEQyxLQUR1RCxnQkFDbERDLENBRGtELFFBQ3hCO0FBQUEsTUFBWlIsUUFBWSxRQUF0QlMsT0FBc0IsQ0FBWlQsUUFBWTs7QUFDOUIsU0FBT0QsUUFBUUMsUUFBUixDQUFQO0FBQ0E7QUFIc0QsQ0FBekMsRUFJWixHQUpZLEMiLCJmaWxlIjoiYmFzZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aGFuZGxlQWN0aW9ufSBmcm9tICdyZWR1eC1hY3Rpb25zJztcbmltcG9ydCB7Z2V0RGVwdGh9IGZyb20gJy4vZGVwdGgnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmFzZShwYXRobmFtZSkge1xuXHRjb25zdCBkZXB0aCA9IGdldERlcHRoKHBhdGhuYW1lKTtcblxuXHRyZXR1cm4gZGVwdGggPiAwID9cblx0XHRgLyR7cGF0aG5hbWVcblx0XHRcdC5zcGxpdCgnLycpXG5cdFx0XHQuZmlsdGVyKEJvb2xlYW4pXG5cdFx0XHQuc2xpY2UoMCwgZGVwdGgpXG5cdFx0XHQuam9pbignLycpfS9gIDpcblx0XHQnLyc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZUFjdGlvbignQEByb3V0ZXIvTE9DQVRJT05fQ0hBTkdFJywge1xuXHRuZXh0KF8sIHtwYXlsb2FkOiB7cGF0aG5hbWV9fSkge1xuXHRcdHJldHVybiBnZXRCYXNlKHBhdGhuYW1lKTtcblx0fVxufSwgJy8nKTtcbiJdfQ==