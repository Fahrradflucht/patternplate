'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.getDepth = getDepth;

var _reduxActions = require('redux-actions');

function getDepth(pathname) {
	var fragments = pathname.split('/').filter(Boolean);

	var fragmentIndex = ['pattern', 'doc'].map(function (known) {
		return fragments.indexOf(known);
	}).find(function (index) {
		return index !== -1;
	});

	var index = fragmentIndex === null ? fragments.length : fragmentIndex;
	return fragments.slice(0, index).filter(Boolean).length;
}

exports.default = (0, _reduxActions.handleAction)('@@router/LOCATION_CHANGE', {
	next: function next(_, _ref) {
		var pathname = _ref.payload.pathname;

		return getDepth(pathname);
	}
}, '.');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NvdXJjZS9hcHBsaWNhdGlvbi9yZWR1Y2Vycy9kZXB0aC5qcyJdLCJuYW1lcyI6WyJnZXREZXB0aCIsInBhdGhuYW1lIiwiZnJhZ21lbnRzIiwic3BsaXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiZnJhZ21lbnRJbmRleCIsIm1hcCIsImluZGV4T2YiLCJrbm93biIsImZpbmQiLCJpbmRleCIsImxlbmd0aCIsInNsaWNlIiwibmV4dCIsIl8iLCJwYXlsb2FkIl0sIm1hcHBpbmdzIjoiOzs7OztRQUVnQkEsUSxHQUFBQSxROztBQUZoQjs7QUFFTyxTQUFTQSxRQUFULENBQWtCQyxRQUFsQixFQUE0QjtBQUNsQyxLQUFNQyxZQUFZRCxTQUFTRSxLQUFULENBQWUsR0FBZixFQUFvQkMsTUFBcEIsQ0FBMkJDLE9BQTNCLENBQWxCOztBQUVBLEtBQU1DLGdCQUFnQixDQUFDLFNBQUQsRUFBWSxLQUFaLEVBQ3BCQyxHQURvQixDQUNoQjtBQUFBLFNBQVNMLFVBQVVNLE9BQVYsQ0FBa0JDLEtBQWxCLENBQVQ7QUFBQSxFQURnQixFQUVwQkMsSUFGb0IsQ0FFZjtBQUFBLFNBQVNDLFVBQVUsQ0FBQyxDQUFwQjtBQUFBLEVBRmUsQ0FBdEI7O0FBSUEsS0FBTUEsUUFBUUwsa0JBQWtCLElBQWxCLEdBQXlCSixVQUFVVSxNQUFuQyxHQUE0Q04sYUFBMUQ7QUFDQSxRQUFPSixVQUFVVyxLQUFWLENBQWdCLENBQWhCLEVBQW1CRixLQUFuQixFQUEwQlAsTUFBMUIsQ0FBaUNDLE9BQWpDLEVBQTBDTyxNQUFqRDtBQUNBOztrQkFFYyxnQ0FBYSwwQkFBYixFQUF5QztBQUN2REUsS0FEdUQsZ0JBQ2xEQyxDQURrRCxRQUN4QjtBQUFBLE1BQVpkLFFBQVksUUFBdEJlLE9BQXNCLENBQVpmLFFBQVk7O0FBQzlCLFNBQU9ELFNBQVNDLFFBQVQsQ0FBUDtBQUNBO0FBSHNELENBQXpDLEVBSVosR0FKWSxDIiwiZmlsZSI6ImRlcHRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtoYW5kbGVBY3Rpb259IGZyb20gJ3JlZHV4LWFjdGlvbnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVwdGgocGF0aG5hbWUpIHtcblx0Y29uc3QgZnJhZ21lbnRzID0gcGF0aG5hbWUuc3BsaXQoJy8nKS5maWx0ZXIoQm9vbGVhbik7XG5cblx0Y29uc3QgZnJhZ21lbnRJbmRleCA9IFsncGF0dGVybicsICdkb2MnXVxuXHRcdC5tYXAoa25vd24gPT4gZnJhZ21lbnRzLmluZGV4T2Yoa25vd24pKVxuXHRcdC5maW5kKGluZGV4ID0+IGluZGV4ICE9PSAtMSk7XG5cblx0Y29uc3QgaW5kZXggPSBmcmFnbWVudEluZGV4ID09PSBudWxsID8gZnJhZ21lbnRzLmxlbmd0aCA6IGZyYWdtZW50SW5kZXg7XG5cdHJldHVybiBmcmFnbWVudHMuc2xpY2UoMCwgaW5kZXgpLmZpbHRlcihCb29sZWFuKS5sZW5ndGg7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZUFjdGlvbignQEByb3V0ZXIvTE9DQVRJT05fQ0hBTkdFJywge1xuXHRuZXh0KF8sIHtwYXlsb2FkOiB7cGF0aG5hbWV9fSkge1xuXHRcdHJldHVybiBnZXREZXB0aChwYXRobmFtZSk7XG5cdH1cbn0sICcuJyk7XG4iXX0=