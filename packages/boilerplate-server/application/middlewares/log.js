"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = startLogMiddleware;
function startLogMiddleware(application) {
  return function* logMiddleware(next) {
    const start = new Date();
    yield next;
    const delta = new Date() - start;
    application.log.debug(`${start} - ${this.method} ${this.url} - ${this.response.status} ${this.response.message} - ${delta}ms`);
  };
}
module.exports = exports["default"];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NvdXJjZS9hcHBsaWNhdGlvbi9taWRkbGV3YXJlcy9sb2cuanMiXSwibmFtZXMiOlsic3RhcnRMb2dNaWRkbGV3YXJlIiwiYXBwbGljYXRpb24iLCJsb2dNaWRkbGV3YXJlIiwibmV4dCIsInN0YXJ0IiwiRGF0ZSIsImRlbHRhIiwibG9nIiwiZGVidWciLCJtZXRob2QiLCJ1cmwiLCJyZXNwb25zZSIsInN0YXR1cyIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUF3QkEsa0I7QUFBVCxTQUFTQSxrQkFBVCxDQUE0QkMsV0FBNUIsRUFBeUM7QUFDdEQsU0FBTyxVQUFVQyxhQUFWLENBQXdCQyxJQUF4QixFQUE4QjtBQUNuQyxVQUFNQyxRQUFRLElBQUlDLElBQUosRUFBZDtBQUNBLFVBQU1GLElBQU47QUFDQSxVQUFNRyxRQUFRLElBQUlELElBQUosS0FBYUQsS0FBM0I7QUFDQUgsZ0JBQVlNLEdBQVosQ0FBZ0JDLEtBQWhCLENBQ0csR0FBRUosS0FBTSxNQUFLLEtBQUtLLE1BQU8sSUFBRyxLQUFLQyxHQUFJLE1BQUssS0FBS0MsUUFBTCxDQUFjQyxNQUFPLElBQUcsS0FDaEVELFFBRGdFLENBQ3ZERSxPQUFRLE1BQUtQLEtBQU0sSUFGakM7QUFJRCxHQVJEO0FBU0QiLCJmaWxlIjoibG9nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRMb2dNaWRkbGV3YXJlKGFwcGxpY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbiogbG9nTWlkZGxld2FyZShuZXh0KSB7XG4gICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpO1xuICAgIHlpZWxkIG5leHQ7XG4gICAgY29uc3QgZGVsdGEgPSBuZXcgRGF0ZSgpIC0gc3RhcnQ7XG4gICAgYXBwbGljYXRpb24ubG9nLmRlYnVnKFxuICAgICAgYCR7c3RhcnR9IC0gJHt0aGlzLm1ldGhvZH0gJHt0aGlzLnVybH0gLSAke3RoaXMucmVzcG9uc2Uuc3RhdHVzfSAke3RoaXNcbiAgICAgICAgLnJlc3BvbnNlLm1lc3NhZ2V9IC0gJHtkZWx0YX1tc2BcbiAgICApO1xuICB9O1xufVxuIl19