"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = startLogMiddleware;
function startLogMiddleware(application) {
	return function* logMiddleware(next) {
		let start = new Date();
		yield next;
		let delta = new Date() - start;
		application.log.debug(`${start} - ${this.method} ${this.url} - ${this.response.status} ${this.response.message} - ${delta}ms`);
	};
}
module.exports = exports["default"];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NvdXJjZS9hcHBsaWNhdGlvbi9taWRkbGV3YXJlcy9sb2cuanMiXSwibmFtZXMiOlsic3RhcnRMb2dNaWRkbGV3YXJlIiwiYXBwbGljYXRpb24iLCJsb2dNaWRkbGV3YXJlIiwibmV4dCIsInN0YXJ0IiwiRGF0ZSIsImRlbHRhIiwibG9nIiwiZGVidWciLCJtZXRob2QiLCJ1cmwiLCJyZXNwb25zZSIsInN0YXR1cyIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUF3QkEsa0I7QUFBVCxTQUFTQSxrQkFBVCxDQUE4QkMsV0FBOUIsRUFBNEM7QUFDMUQsUUFBTyxVQUFXQyxhQUFYLENBQTJCQyxJQUEzQixFQUFrQztBQUN4QyxNQUFJQyxRQUFRLElBQUlDLElBQUosRUFBWjtBQUNBLFFBQU1GLElBQU47QUFDQSxNQUFJRyxRQUFRLElBQUlELElBQUosS0FBYUQsS0FBekI7QUFDQUgsY0FBWU0sR0FBWixDQUFnQkMsS0FBaEIsQ0FBdUIsR0FBRUosS0FBTSxNQUFLLEtBQUtLLE1BQU8sSUFBRyxLQUFLQyxHQUFJLE1BQUssS0FBS0MsUUFBTCxDQUFjQyxNQUFPLElBQUcsS0FBS0QsUUFBTCxDQUFjRSxPQUFRLE1BQUtQLEtBQU0sSUFBMUg7QUFDQSxFQUxEO0FBTUEiLCJmaWxlIjoibG9nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRMb2dNaWRkbGV3YXJlICggYXBwbGljYXRpb24gKSB7XG5cdHJldHVybiBmdW5jdGlvbiAqIGxvZ01pZGRsZXdhcmUgKCBuZXh0ICkge1xuXHRcdGxldCBzdGFydCA9IG5ldyBEYXRlKCk7XG5cdFx0eWllbGQgbmV4dDtcblx0XHRsZXQgZGVsdGEgPSBuZXcgRGF0ZSgpIC0gc3RhcnQ7XG5cdFx0YXBwbGljYXRpb24ubG9nLmRlYnVnKGAke3N0YXJ0fSAtICR7dGhpcy5tZXRob2R9ICR7dGhpcy51cmx9IC0gJHt0aGlzLnJlc3BvbnNlLnN0YXR1c30gJHt0aGlzLnJlc3BvbnNlLm1lc3NhZ2V9IC0gJHtkZWx0YX1tc2ApO1xuXHR9O1xufVxuIl19