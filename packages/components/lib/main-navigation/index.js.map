{"version":3,"sources":["../../patterns/main-navigation/index.js"],"names":["React","require","styled","default","NavigationTree","NavigationToolbar","Header","Navigation","args","getRef","bind","handleScrollRequest","e","ref","target","item","getBoundingClientRect","list","pad","getPadding","bottom","scrollTop","offsetTop","height","top","props","children","Children","toArray","toolbar","find","child","type","header","NavigationHeader","handleKeyDown","applicationTitle","active","docs","onItemClick","navigation","Component","module","exports","defaultProps","tools","el","style","global","getComputedStyle","parseInt","getPropertyValue","direction","StyledHeader","StyledNavigation","div","theme","background","PASSAGE_HEIGHT","StyledNavigationTree","StyledNavigationToolbar","Documentation","onScrollRequest","StyledDocumentationTree","border"],"mappings":";;;;;;;;;;AAAA,IAAMA,QAAQC,QAAQ,OAAR,CAAd;AACA,IAAMC,SAASD,QAAQ,mBAAR,EAA6BE,OAA5C;AACA,IAAMC,iBAAiBH,QAAQ,oBAAR,CAAvB;AACA,IAAMI,oBAAoBJ,QAAQ,uBAAR,CAA1B;AACA,IAAMK,SAASL,QAAQ,gBAAR,CAAf;;IAEMM,U;;;AACJ,wBAAqB;AAAA;;AAAA;;AAAA,sCAANC,IAAM;AAANA,UAAM;AAAA;;AAAA,mJACVA,IADU;;AAEnB,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYC,IAAZ,OAAd;AACA,UAAKC,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBD,IAAzB,OAA3B;AAHmB;AAIpB;;;;wCAEmBE,C,EAAG;AACrB,UAAI,CAAC,KAAKC,GAAN,IAAa,CAACD,EAAEE,MAApB,EAA4B;AAC1B;AACD;;AAED,UAAMC,OAAOH,EAAEE,MAAF,CAASE,qBAAT,EAAb;AACA,UAAMC,OAAO,KAAKJ,GAAL,CAASG,qBAAT,EAAb;AACA,UAAME,MAAMC,WAAW,KAAKN,GAAhB,CAAZ;;AAEA,UAAIE,KAAKK,MAAL,GAAcH,KAAKG,MAAL,GAAcF,IAAI,QAAJ,CAAhC,EAA+C;AAC7C,aAAKL,GAAL,CAASQ,SAAT,GACET,EAAEE,MAAF,CAASQ,SAAT,GAAqBL,KAAKM,MAA1B,GAAmCL,IAAI,QAAJ,CAAnC,GAAmDH,KAAKQ,MAD1D;AAED;;AAED,UAAIR,KAAKS,GAAL,GAAWP,KAAKO,GAAL,GAAWN,IAAI,KAAJ,CAA1B,EAAsC;AACpC,aAAKL,GAAL,CAASQ,SAAT,GAAqBT,EAAEE,MAAF,CAASQ,SAAT,GAAqBJ,IAAI,KAAJ,CAA1C;AACD;AACF;;;2BAEML,G,EAAK;AACV,WAAKA,GAAL,GAAWA,GAAX;AACD;;;6BAEQ;AAAA,UACAY,KADA,GACS,IADT,CACAA,KADA;;AAEP,UAAMC,WAAW1B,MAAM2B,QAAN,CAAeC,OAAf,CAAuBH,MAAMC,QAA7B,CAAjB;AACA,UAAMG,UAAUH,SAASI,IAAT,CAAc;AAAA,eAASC,MAAMC,IAAN,KAAe3B,iBAAxB;AAAA,OAAd,CAAhB;AACA,UAAM4B,SAASP,SAASI,IAAT,CAAc;AAAA,eAASC,MAAMC,IAAN,KAAeE,gBAAxB;AAAA,OAAd,CAAf;;AAEA,aACH;AAAC,wBAAD;AAAA,UAAkB,WAAW,KAAKC,aAAlC;AACC;AAAC,8BAAD;AAAA,YAAsB,UAAU,KAAK1B,MAArC;AACEwB,mBACQA,MADR,GAGH,oBAAC,YAAD;AACC,mBAAOR,MAAMW,gBADd;AAEC,oBAAO;AAFR,YAJC;AASC,8BAAC,aAAD;AACC,oBAAQX,MAAMY,MADf;AAEC,kBAAMZ,MAAMa,IAFb;AAGC,yBAAab,MAAMc,WAHpB;AAIC,6BAAiB,KAAK5B;AAJvB,YATD;AAeC,8BAAC,cAAD;AACC,oBAAQc,MAAMY,MADf;AAEC,kBAAMZ,MAAMe,UAAN,CAAiBd,QAFxB;AAGC,yBAAaD,MAAMc,WAHpB;AAIC,6BAAiB,KAAK5B,mBAJvB;AAKC,oBAAO;AALR;AAfD,SADD;AAwBEkB,mBACD;AAAC,iCAAD;AAAA;AAA0BA;AAA1B;AAzBD,OADG;AA8BD;;;;EAlEsB7B,MAAMyC,S;;AAqE/BC,OAAOC,OAAP,GAAiBpC,UAAjB;AACAmC,OAAOC,OAAP,CAAetC,iBAAf,GAAmCA,iBAAnC;AACAqC,OAAOC,OAAP,CAAeT,gBAAf,GAAkCA,gBAAlC;;AAEA3B,WAAWqC,YAAX,GAA0B;AACxBC,SAAO;AADiB,CAA1B;;AAIA,SAASX,gBAAT,CAA0BT,KAA1B,EAAiC;AAC/B,SAAO;AAAA;AAAA;AAAMA,UAAMC;AAAZ,GAAP;AACD;;AAED,SAASP,UAAT,CAAoB2B,EAApB,EAAwB;AACtB,MAAMC,QAAQC,OAAOC,gBAAP,CAAwBH,EAAxB,EAA4B,IAA5B,CAAd;AACA,SAAO;AAAA,WACLI,SAASH,MAAMI,gBAAN,CAAwB,WAAUC,SAAU,EAA5C,CAAT,EAAyD,EAAzD,CADK;AAAA,GAAP;AAED;;AAED,IAAMC,eAAenD,OAAOI,MAAP,CAAe;;;CAApC;;AAKA,IAAMgD,mBAAmBpD,OAAOqD,GAAI;;;;;;sBAMd;AAAA,SAAS9B,MAAM+B,KAAN,CAAYC,UAArB;AAAA,CAAgC;CANtD;;AASA,IAAMC,iBAAiB,EAAvB;;AAEA,IAAMC,uBAAuBzD,OAAOqD,GAAI;;;;;;;;;;uBAUjBG,cAAe;;;;;uBAKfA,cAAe;;CAftC;;AAmBA,IAAME,0BAA0B1D,OAAOqD,GAAI;;;CAA3C;;AAKA,SAASM,aAAT,CAAuBpC,KAAvB,EAA8B;AAC5B,SACD,oBAAC,uBAAD;AACC,YAAQA,MAAMY,MADf;AAEC,eAAU,iBAFX;AAGC,UAAMZ,MAAMa,IAAN,CAAWZ,QAHlB;AAIC,iBAAaD,MAAMc,WAJpB;AAKC,qBAAiBd,MAAMqC,eALxB;AAMC,YAAO;AANR,IADC;AAUD;;AAED,IAAMC,0BAA0B7D,OAAOE,cAAP,CAAuB;;6BAE1B;AAAA,SAASqB,MAAM+B,KAAN,CAAYQ,MAArB;AAAA,CAA4B;;CAFzD","file":"index.js","sourcesContent":["const React = require('react');\nconst styled = require('styled-components').default;\nconst NavigationTree = require('../navigation-tree');\nconst NavigationToolbar = require('../navigation-toolbar');\nconst Header = require('../main-header');\n\nclass Navigation extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.getRef = this.getRef.bind(this);\n    this.handleScrollRequest = this.handleScrollRequest.bind(this);\n  }\n\n  handleScrollRequest(e) {\n    if (!this.ref || !e.target) {\n      return;\n    }\n\n    const item = e.target.getBoundingClientRect();\n    const list = this.ref.getBoundingClientRect();\n    const pad = getPadding(this.ref);\n\n    if (item.bottom > list.bottom - pad('bottom')) {\n      this.ref.scrollTop =\n        e.target.offsetTop - list.height + pad('bottom') + item.height;\n    }\n\n    if (item.top < list.top + pad('top')) {\n      this.ref.scrollTop = e.target.offsetTop + pad('top');\n    }\n  }\n\n  getRef(ref) {\n    this.ref = ref;\n  }\n\n  render() {\n    const {props} = this;\n    const children = React.Children.toArray(props.children);\n    const toolbar = children.find(child => child.type === NavigationToolbar);\n    const header = children.find(child => child.type === NavigationHeader);\n\n    return (\n\t<StyledNavigation onKeyDown={this.handleKeyDown}>\n\t\t<StyledNavigationTree innerRef={this.getRef}>\n\t\t\t{header ? (\n            header\n          ) : (\n\t<StyledHeader\n\t\ttitle={props.applicationTitle}\n\t\tsymbol=\"patternplate\"\n\t/>\n          )}\n\t\t\t<Documentation\n\t\t\t\tactive={props.active}\n\t\t\t\tdocs={props.docs}\n\t\t\t\tonItemClick={props.onItemClick}\n\t\t\t\tonScrollRequest={this.handleScrollRequest}\n\t\t\t/>\n\t\t\t<NavigationTree\n\t\t\t\tactive={props.active}\n\t\t\t\tdata={props.navigation.children}\n\t\t\t\tonItemClick={props.onItemClick}\n\t\t\t\tonScrollRequest={this.handleScrollRequest}\n\t\t\t\tprefix=\"/pattern\"\n\t\t\t/>\n\t\t</StyledNavigationTree>\n\t\t{toolbar && (\n\t\t<StyledNavigationToolbar>{toolbar}</StyledNavigationToolbar>\n        )}\n\t</StyledNavigation>\n    );\n  }\n}\n\nmodule.exports = Navigation;\nmodule.exports.NavigationToolbar = NavigationToolbar;\nmodule.exports.NavigationHeader = NavigationHeader;\n\nNavigation.defaultProps = {\n  tools: []\n};\n\nfunction NavigationHeader(props) {\n  return <div>{props.children}</div>;\n}\n\nfunction getPadding(el) {\n  const style = global.getComputedStyle(el, null);\n  return direction =>\n    parseInt(style.getPropertyValue(`padding-${direction}`), 10);\n}\n\nconst StyledHeader = styled(Header)`\n  box-sizing: border-box;\n  margin-bottom: 10px;\n`;\n\nconst StyledNavigation = styled.div`\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  position: relative;\n  background-color: ${props => props.theme.background};\n`;\n\nconst PASSAGE_HEIGHT = 50;\n\nconst StyledNavigationTree = styled.div`\n  flex-grow: 1;\n  flex-shrink: 1;\n  padding-bottom: 50px;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  -webkit-overflow-scroll: touch;\n  mask-image: linear-gradient(\n    to top,\n    rgba(0, 0, 0, 0),\n    rgba(0, 0, 0, 1) ${PASSAGE_HEIGHT}px\n  );\n  -webkit-mask-image: linear-gradient(\n    to top,\n    rgba(0, 0, 0, 0),\n    rgba(0, 0, 0, 1) ${PASSAGE_HEIGHT}px\n  );\n`;\n\nconst StyledNavigationToolbar = styled.div`\n  flex-grow: 0;\n  flex-shrink: 0;\n`;\n\nfunction Documentation(props) {\n  return (\n\t<StyledDocumentationTree\n\t\tactive={props.active}\n\t\tclassName=\"docs-navigation\"\n\t\tdata={props.docs.children}\n\t\tonItemClick={props.onItemClick}\n\t\tonScrollRequest={props.onScrollRequest}\n\t\tprefix=\"/doc\"\n\t/>\n  );\n}\n\nconst StyledDocumentationTree = styled(NavigationTree)`\n  margin-bottom: 5px;\n  border-bottom: 1px solid ${props => props.theme.border};\n  padding-bottom: 5px;\n`;\n"]}